import 'package:smartsoadsense_core_package/SmartRoadSense-Core-Package.dart';
import 'package:test/test.dart';

import 'SmartRoadSenseTest.dart';

void main() {
  test('Test Random 50', () {
    var input = [
      7.18733314148627,
      0.44223944742622256,
      8.143546991977185,
      0.21539267486385794,
      7.333602158787091,
      8.437365958364238,
      3.287824809348867,
      7.2232888711027154,
      6.619555252422843,
      1.7867150070023485,
      2.8392889565860377,
      2.7590270631256586,
      0.42520079406872413,
      3.963317697493216,
      9.755021932396366,
      7.876296853480513,
      0.32418641546047566,
      1.1889798438334853,
      5.8936818073045,
      5.215346177205918,
      9.173813594770156,
      6.696699143824569,
      5.734081124643161,
      8.388142085583363,
      6.942784827481379,
      1.0537699741653972,
      1.822250569525301,
      7.781425486052827,
      0.22743160892691572,
      2.2800082751998643,
      4.219025641989561,
      7.747447775703589,
      9.94036477746277,
      5.4818652773730445,
      9.784639254381753,
      9.419755656743154,
      9.751205861072872,
      6.772017787038159,
      2.2637626137118296,
      6.721466878096928,
      2.51724693097466,
      0.35535792451375725,
      0.8238862112811374,
      0.5260597212293816,
      3.1626005886967867,
      0.8361315582665385,
      2.9518878705279916,
      7.385777077962309,
      4.247596394642396,
      5.037299060324061
    ];
    var javaOutput = [
      1.0, -0.41349380905670746, -0.2019537205574916, -0.1897719626619319, -0.05412228442645268, -0.11769436600195117, 0.10265570192651503
    ];

    var engine = new Engine.constructor1();

    var implOutput = TestingExtension.executeNumericMethod(
        engine, Meto.estimateAutoRegressiveModel, input);

    CheckExtensions.assertError(implOutput, javaOutput);
  });

  test('Test Random 100', () {
    var input = [ 0.4253540363395858, 0.9076834237197207, 0.7044096297987334, 4.825062264678604, 6.911875120998438, 2.969920982968759, 6.5300843118826455, 7.159911747687778, 6.6565515243500615, 1.508476678764401, 7.803401053536025, 6.165807175299033, 1.03692036314046, 9.679462417964645, 1.191339499163191, 1.353325001146537, 5.343460549933744, 0.9554495929474416, 0.7694307741500117, 0.5358214724992738, 5.504997787542937, 1.7004467550367985, 4.710411312022705, 4.466086910421514, 9.146505972470711, 9.58919284488703, 7.076303160336945, 2.1032337914182166, 6.224976825339265, 7.571999575854102, 8.499623723786582, 5.415159015632938, 1.9597235912483324, 2.510205320171275, 4.041388414718999, 0.32698404282765825, 8.806693062237333, 6.093627992659504, 2.5780129122513973, 2.1934723999766472, 4.822062403939331, 3.200234605414898, 9.69618448736743, 0.003487593299000835, 2.918599130553793, 9.469572630821986, 5.264216283787039, 3.4171400821750075, 9.238965705559645, 5.535339466842068, 7.6003598687961365, 0.6913500393293481, 9.153354203105312, 0.09878609764759849, 8.472997300065586, 3.5671262601632003, 6.234542140817538, 7.823490627743414, 7.044590917847633, 7.271945993361834, 2.971656216948879, 0.8933554625169071, 6.310722463674445, 9.933189716874057, 1.9546420323434344, 4.999517404723046, 2.5875044369142266, 5.903675932934346, 2.794636787447101, 1.5081803502046776, 7.16509985257845, 1.7679053251924526, 3.1411464469274164, 7.610218677751938, 9.372041459596394, 2.127710880106953, 1.8151273364931586, 5.364716647362734, 1.9844931009968636, 4.658586252854625, 8.29778767501515, 8.722444636356455, 3.1665494614682577, 0.3830403780125291, 5.598108870284927, 4.851600776783064, 3.942122973374752, 5.624909835787998, 2.8678091071298075, 2.3869663613480596, 6.575921417743783, 6.6886321160705595, 0.04065996545321582, 4.5849675941601795, 7.180470056485667, 6.950066218893975, 9.243778190581754, 9.790943782242271, 5.368089440054213, 8.750521874458292 ];

    var javaOutput = [
       1.0, -0.22617950275848112, -0.18024026958706865, -0.22218600313308334, -0.16061073403121714, -0.01028355434978629, -0.12328412494750389
    ];

    var engine = new Engine.constructor1();

    var implOutput = TestingExtension.executeNumericMethod(
        engine, Meto.estimateAutoRegressiveModel, input);

    CheckExtensions.assertError(implOutput, javaOutput);
  });
}
